<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <title>Timeline della Grecia Classica</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    :root {
      --bg-page: #f4e3c7;
      --bg-header: #4f3827;
      --bg-card: #fdf5e7;
      --bg-card-soft: #f7ebd6;
      --accent: #c9792b;
      --accent-soft: #f0c08a;
      --accent-strong: #a25917;
      --text-main: #3c2a1c;
      --text-soft: #6b5845;
      --border-soft: #e4cdaa;
      --shadow-soft: 0 14px 32px rgba(57, 35, 16, 0.25);
      --radius-lg: 22px;
      --radius-md: 16px;
      --radius-pill: 999px;
      --transition-fast: 0.16s ease-out;
      --transition-med: 0.22s ease-out;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "SF Pro Text", sans-serif;
      background: var(--bg-page);
      color: var(--text-main);
      line-height: 1.5;
    }

    .top-bar {
      background: var(--bg-header);
      color: #fcebd2;
      padding: 10px 18px;
      font-size: 0.86rem;
      box-shadow: 0 4px 11px rgba(0, 0, 0, 0.25);
    }

    .top-bar-inner {
      max-width: 1200px;
      margin: 0 auto;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .top-bar-title {
      font-weight: 600;
    }

    .page {
      max-width: 1200px;
      margin: 18px auto 32px;
      padding: 0 16px 16px;
    }

    .breadcrumbs {
      font-size: 0.78rem;
      color: var(--text-soft);
      margin-bottom: 10px;
    }

    .breadcrumbs span + span::before {
      content: " › ";
      color: #b39670;
    }

    header.page-header {
      margin-bottom: 18px;
    }

    header.page-header h1 {
      font-size: 1.6rem;
      margin-bottom: 4px;
      color: #3a2515;
    }

    header.page-header p {
      font-size: 0.95rem;
      color: var(--text-soft);
      max-width: 720px;
    }

    main.layout {
      display: grid;
      grid-template-columns: minmax(0, 40%) minmax(0, 60%);
      gap: 16px;
      align-items: flex-start;
    }

    .panel {
      background: linear-gradient(135deg, var(--bg-card), #f9e9d1);
      border-radius: var(--radius-lg);
      border: 1px solid var(--border-soft);
      box-shadow: var(--shadow-soft);
      padding: 16px 16px 14px;
    }

    .panel-header {
      margin-bottom: 10px;
    }

    .panel-header h2 {
      font-size: 1.02rem;
      margin-bottom: 4px;
      color: #3a2618;
    }

    .panel-header p {
      font-size: 0.82rem;
      color: var(--text-soft);
    }

    .events-scroll {
      max-height: 70vh;
      overflow-y: auto;
      padding-right: 4px;
      margin-right: -4px;
      scrollbar-width: thin;
      scrollbar-color: #d3b68b transparent;
    }

    .events-scroll::-webkit-scrollbar {
      width: 6px;
    }

    .events-scroll::-webkit-scrollbar-track {
      background: transparent;
    }

    .events-scroll::-webkit-scrollbar-thumb {
      background: #d3b68b;
      border-radius: 999px;
    }

    .event-button {
      width: 100%;
      text-align: left;
      border: none;
      background: transparent;
      cursor: pointer;
      margin-bottom: 8px;
    }

    .event-button-inner {
      display: grid;
      grid-template-columns: auto 1fr auto;
      align-items: center;
      gap: 10px;
      padding: 10px 12px;
      border-radius: var(--radius-pill);
      background: var(--bg-card-soft);
      border: 1px solid rgba(181, 141, 93, 0.6);
      box-shadow: 0 4px 8px rgba(110, 78, 46, 0.15);
      transition: background var(--transition-fast), box-shadow var(--transition-fast), transform var(--transition-fast), border-color var(--transition-fast);
    }

    .event-button-inner:hover {
      background: #f8dfbe;
      transform: translateY(-1px);
      box-shadow: 0 6px 14px rgba(110, 78, 46, 0.22);
    }

    .event-button.active .event-button-inner {
      background: linear-gradient(135deg, var(--accent-soft), #ffe1b6);
      border-color: var(--accent-strong);
      box-shadow: 0 7px 16px rgba(123, 73, 22, 0.4);
    }

    .event-radio {
      width: 18px;
      height: 18px;
      border-radius: 50%;
      border: 2px solid #b3895a;
      display: flex;
      align-items: center;
      justify-content: center;
      background: #fdf5e7;
    }

    .event-button.active .event-radio {
      border-color: var(--accent-strong);
      background: #fdf2d9;
    }

    .event-radio-dot {
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background: #d09a4f;
    }

    .event-meta {
      display: flex;
      flex-direction: column;
      gap: 2px;
    }

    .event-year {
      font-size: 0.78rem;
      color: #7a6246;
    }

    .event-title {
      font-size: 0.9rem;
      font-weight: 600;
      color: #3a2515;
    }

    .event-tags {
      display: flex;
      gap: 6px;
      margin-top: 2px;
      flex-wrap: wrap;
      font-size: 0.7rem;
    }

    .event-tag {
      padding: 2px 8px;
      border-radius: 999px;
      background: rgba(255, 255, 255, 0.85);
      border: 1px solid rgba(179, 132, 83, 0.5);
      color: #7a5a36;
    }

    .event-tag--war { background: #ffe0dd; border-color: #c96f63; }
    .event-tag--polis { background: #e4f2ff; border-color: #4b8bb7; }
    .event-tag--culture { background: #e6f6dd; border-color: #679b4c; }

    .event-arrow {
      font-size: 1.1rem;
      color: #b3895a;
    }

    .event-button.active .event-arrow {
      color: var(--accent-strong);
    }

    .detail-header {
      margin-bottom: 8px;
    }

    .detail-era {
      font-size: 0.8rem;
      color: var(--text-soft);
      margin-bottom: 2px;
    }

    .detail-title {
      font-size: 1.1rem;
      font-weight: 600;
      color: #3a2618;
    }

    .detail-year-line {
      font-size: 0.86rem;
      color: #85684d;
      margin-top: 2px;
    }

    .detail-body {
      max-height: 70vh;
      overflow-y: auto;
      padding-right: 4px;
      margin-right: -4px;
      scrollbar-width: thin;
      scrollbar-color: #d3b68b transparent;
    }

    .detail-body::-webkit-scrollbar {
      width: 6px;
    }

    .detail-body::-webkit-scrollbar-track {
      background: transparent;
    }

    .detail-body::-webkit-scrollbar-thumb {
      background: #d3b68b;
      border-radius: 999px;
    }

    .detail-section-title {
      font-size: 0.82rem;
      text-transform: uppercase;
      letter-spacing: 0.11em;
      color: #8a6d4f;
      margin-top: 10px;
      margin-bottom: 4px;
    }

    .detail-list {
      list-style: none;
      margin: 0 0 4px;
      padding: 0;
      font-size: 0.9rem;
      color: var(--text-soft);
    }

    .detail-list li {
      position: relative;
      padding-left: 16px;
      margin-bottom: 4px;
    }

    .detail-list li::before {
      content: "";
      position: absolute;
      left: 4px;
      top: 0.65em;
      width: 5px;
      height: 5px;
      border-radius: 999px;
      background: #c48a49;
    }

    .detail-focus-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
      gap: 8px;
      margin-top: 4px;
    }

    .detail-focus-item {
      background: rgba(255, 255, 255, 0.8);
      border-radius: var(--radius-md);
      padding: 8px 10px;
      border: 1px solid rgba(186, 144, 96, 0.5);
      font-size: 0.84rem;
      color: var(--text-soft);
    }

    .detail-note {
      font-size: 0.78rem;
      color: #8c7153;
      margin-top: 10px;
      padding-top: 8px;
      border-top: 1px dashed #ddc19b;
    }

    @media (max-width: 900px) {
      main.layout {
        grid-template-columns: 1fr;
      }

      .events-scroll,
      .detail-body {
        max-height: 55vh;
      }
    }

    @media (max-width: 600px) {
      .page {
        padding: 0 10px 12px;
      }

      header.page-header h1 {
        font-size: 1.3rem;
      }

      .panel {
        border-radius: 16px;
      }
    }
  </style>
</head>
<body>
  <div class="top-bar">
    <div class="top-bar-inner">
      <div class="top-bar-title">Storia della Grecia</div>
    </div>
  </div>

  <div class="page">
    <nav class="breadcrumbs" aria-label="Percorso">
      <span>Storia della Grecia</span>
      <span>Età Classica</span>
      <span>Timeline</span>
    </nav>

    <header class="page-header">
      <h1>Timeline della Grecia Classica</h1>
      <p>
        Questa linea del tempo ripercorre i momenti principali della Grecia classica: dalla nascita della democrazia ateniese
        alla fine dell'indipendenza delle poleis. Tocca un evento nella colonna di sinistra per aprire il riquadro di spiegazione.
      </p>
    </header>

    <main class="layout">
      <section class="panel" aria-label="Sequenza degli eventi">
        <div class="panel-header">
          <h2>Sequenza degli eventi</h2>
          <p>Dal consolidarsi della polis attica alla transizione verso l'età ellenistica.</p>
        </div>
        <div class="events-scroll" id="events-list">
          <!-- Eventi creati via JavaScript -->
        </div>
      </section>

      <section class="panel" aria-label="Spiegazione dell'evento selezionato">
        <div class="detail-header" id="detail-header">
          <div class="detail-era">Seleziona un evento nella timeline</div>
          <div class="detail-title">&nbsp;</div>
          <div class="detail-year-line" id="detail-year-line"></div>
        </div>
        <div class="detail-body" id="detail-body">
          <!-- Contenuto riempito via JavaScript -->
        </div>
      </section>
    </main>
  </div>

  <script>
    const events = [
      {
        id: "cleistene",
        year: "508/507 a.C.",
        title: "Riforme di Clistene ad Atene",
        tags: ["polis"],
        era: "Origini della Grecia classica",
        sintesi: [
          "Clistene riorganizza la cittadinanza ateniese in nuove tribù miste, spezzando il potere delle grandi famiglie aristocratiche.",
          "Nasce una forma più ampia di partecipazione politica, considerata l'avvio della democrazia ateniese classica.",
          "L'obiettivo è ridurre i conflitti interni e rafforzare l'unità della polis." 
        ],
        conseguenze: [
          "La cittadinanza è meno legata all'origine familiare e più al territorio.",
          "Si afferma il principio di isonomia: uguaglianza davanti alla legge per i cittadini maschi liberi.",
          "Si crea il quadro istituzionale che permetterà ad Atene di affrontare unita le guerre persiane." 
        ],
        focus: [
          "La democrazia ateniese nasce da uno scontro fra fazioni, non da un progetto astratto.",
          "Le riforme di Clistene sono un esperimento concreto per risolvere una crisi politica." 
        ]
      },
      {
        id: "maratona",
        year: "490 a.C.",
        title: "Battaglia di Maratona",
        tags: ["war"],
        era: "Prime guerre persiane",
        sintesi: [
          "L'esercito ateniese, con poche truppe di Platea, sconfigge il corpo di spedizione persiano inviato da Dario I.",
          "La vittoria dimostra l'efficacia della falange di opliti basata sui cittadini-soldati.",
          "Per la prima volta una polis greca respinge un grande impero orientale." 
        ],
        conseguenze: [
          "Aumenta il prestigio di Atene nel mondo greco.",
          "Si rafforza la fiducia nelle istituzioni cittadine e nel ruolo militare dei cittadini.",
          "La Persia prepara una seconda, più vasta spedizione contro la Grecia." 
        ],
        focus: [
          "Maratona diventerà simbolo dell'eroismo ateniese e della difesa della libertà della polis.",
          "È un momento chiave per la costruzione dell'identità politica ateniese." 
        ]
      },
      {
        id: "salamina",
        year: "480 a.C.",
        title: "Battaglia di Salamina",
        tags: ["war"],
        era: "Seconda guerra persiana",
        sintesi: [
          "La flotta greca, guidata politicamente da Temistocle, attira la marina persiana nello stretto di Salamina.",
          "Lo spazio ristretto annulla la superiorità numerica persiana e favorisce le agili triremi greche.",
          "La vittoria impedisce a Serse di controllare il mare e salva le poleis greche dalla sottomissione." 
        ],
        conseguenze: [
          "Atene, che fornisce la maggior parte delle navi, diventa la principale potenza navale greca.",
          "Il peso militare dei rematori accresce il ruolo politico dei ceti popolari nella democrazia ateniese.",
          "Si apre la strada alla formazione della Lega di Delo e all'egemonia ateniese sull'Egeo." 
        ],
        focus: [
          "Salamina mostra come la potenza marittima trasformi la struttura sociale e politica di una polis.",
          "Il mare diventa il vero spazio di potere di Atene classica." 
        ]
      },
      {
        id: "lega-delo",
        year: "478 a.C.",
        title: "Fondazione della Lega di Delo",
        tags: ["polis", "war"],
        era: "Gli anni successivi alle guerre persiane",
        sintesi: [
          "Atene guida una lega di poleis per proseguire la guerra offensiva contro la Persia e proteggere l'Egeo.",
          "I membri versano tributi in navi o denaro, custoditi nel santuario di Delo.",
          "Col tempo la lega si trasforma da alleanza paritaria a strumento di dominio ateniese." 
        ],
        conseguenze: [
          "I tributi finanziano flotta, opere pubbliche e vita culturale di Atene.",
          "Le città che cercano di uscire dalla lega vengono spesso ricondotte con la forza.",
          "La diffidenza di Sparta e di altre poleis cresce, preparando il terreno al conflitto." 
        ],
        focus: [
          "La Lega di Delo è un esempio di come un'alleanza difensiva possa diventare un impero.",
          "Mostra il confine sottile tra cooperazione panellenica e dominio di una sola città." 
        ]
      },
      {
        id: "eta-pericle",
        year: "ca. 461-429 a.C.",
        title: "Età di Pericle",
        tags: ["polis", "culture"],
        era: "Apogeo di Atene",
        sintesi: [
          "Pericle guida Atene in una fase di potenza economica, militare e culturale senza precedenti.",
          "La democrazia si rafforza con misure che favoriscono la partecipazione dei ceti meno abbienti (misthos).",
          "Si avvia il grande programma edilizio sull'Acropoli, simbolo della potenza ateniese." 
        ],
        conseguenze: [
          "Atene diventa un centro culturale che attrae artisti, filosofi e storici.",
          "L'uso spregiudicato delle risorse della lega alimenta il risentimento degli alleati.",
          "La tensione crescente con Sparta sfocerà nella guerra del Peloponneso." 
        ],
        focus: [
          "L'età di Pericle è l'immagine ideale della democrazia ateniese, ma contiene anche i semi della crisi.",
          "Consente di collegare politica, architettura, teatro e filosofia in un unico quadro." 
        ]
      },
      {
        id: "guerra-peloponneso",
        year: "431-404 a.C.",
        title: "Guerra del Peloponneso",
        tags: ["war"],
        era: "Crisi del mondo greco classico",
        sintesi: [
          "Conflitto lungo e devastante fra Atene (e il suo impero marittimo) e Sparta (alla guida della Lega del Peloponneso).",
          "La guerra conosce fasi alterne, epidemie (come la peste ad Atene) e colpi di scena politici e militari.",
          "Tucidide ne offre un'analisi lucida, fondamentale per la storiografia critica." 
        ],
        conseguenze: [
          "Nel 404 a.C. Atene è sconfitta: deve abbattere le Lunghe Mura e consegnare la flotta.",
          "L'intero mondo greco esce indebolito economicamente e demograficamente.",
          "La rivalità fra poleis non scompare: si apre una fase di instabilità continua." 
        ],
        focus: [
          "La guerra del Peloponneso mostra i limiti del sistema delle poleis rivali.",
          "È un laboratorio per riflettere sul rapporto fra potere, paura e decisioni collettive." 
        ]
      },
      {
        id: "trenta-tiranni",
        year: "404/403 a.C.",
        title: "Regime dei Trenta Tiranni e restaurazione democratica",
        tags: ["polis"],
        era: "Dopo la sconfitta di Atene",
        sintesi: [
          "Dopo la sconfitta, Sparta impone ad Atene un governo oligarchico ristretto, detto 'Trenta Tiranni'.",
          "Il regime si rende responsabile di violenze e confische, suscitando opposizione.",
          "Nel 403 a.C. i democratici rientrano dall'esilio e restaurano la democrazia." 
        ],
        conseguenze: [
          "Viene proclamata un'amnistia generale per evitare una spirale di vendette.",
          "L'esperienza lascia una ferita profonda nella memoria politica ateniese.",
          "Diventa un caso di studio sulla fragilità delle istituzioni democratiche." 
        ],
        focus: [
          "La scelta dell'amnistia è un raro esempio di 'oblio concordato' per ricucire la comunità.",
          "Permette di discutere il tema della giustizia dopo un regime violento." 
        ]
      },
      {
        id: "socrate",
        year: "399 a.C.",
        title: "Processo e condanna a morte di Socrate",
        tags: ["culture", "polis"],
        era: "Crisi dei valori ateniesi",
        sintesi: [
          "Socrate è accusato di corrompere i giovani e introdurre nuovi dei, in un clima di sospetto post-bellico.",
          "Rifiuta di fuggire e accetta la condanna a morte, che verrà eseguita con la cicuta.",
          "Le opere di Platone e altri discepoli trasformano l'evento in un simbolo universale." 
        ],
        conseguenze: [
          "Il processo alimenta il dibattito sui limiti della democrazia e sul ruolo del filosofo.",
          "La figura di Socrate segna l'avvio della filosofia classica come ricerca critica radicale.",
          "La tensione tra verità personale e decisione della maggioranza diventa tema centrale del pensiero politico." 
        ],
        focus: [
          "La morte di Socrate mostra che la polis può temere chi la interroga troppo a fondo.",
          "È un ponte diretto tra storia, filosofia e educazione civica." 
        ]
      },
      {
        id: "leuttra",
        year: "371 a.C.",
        title: "Battaglia di Leuttra",
        tags: ["war"],
        era: "Anni dell'egemonia tebana",
        sintesi: [
          "L'esercito tebano guidato da Epaminonda sconfigge Sparta, considerata quasi invincibile in campo aperto.",
          "L'innovazione tattica della 'falange obliqua' concentra le forze nel punto decisivo.",
          "L'egemonia spartana sul mondo greco viene spezzata." 
        ],
        conseguenze: [
          "Per alcuni anni Tebe assume un ruolo di primo piano nella politica greca.",
          "L'alternanza di egemonie (Atene, Sparta, Tebe) indebolisce ulteriormente il sistema delle poleis.",
          "Si apre uno spazio che verrà sfruttato dalla Macedonia di Filippo II." 
        ],
        focus: [
          "Leuttra dimostra che nessuna potenza militare è eterna.",
          "Permette di discutere il rapporto fra innovazione tattica e trasformazioni politiche." 
        ]
      },
      {
        id: "filippo",
        year: "359-336 a.C.",
        title: "Ascesa di Filippo II di Macedonia",
        tags: ["polis", "war"],
        era: "Preludio all'età ellenistica",
        sintesi: [
          "Filippo II riorganizza l'esercito macedone introducendo la sarissa e una disciplina ferrea.",
          "Alterna diplomazia, matrimoni politici e guerre per estendere il controllo sulla Grecia.",
          "Sfrutta le divisioni fra le poleis, incapaci di unirsi stabilmente." 
        ],
        conseguenze: [
          "La Macedonia diventa la nuova potenza egemone della Grecia.",
          "Filippo prepara il progetto di una grande spedizione contro la Persia.",
          "La conquista macedone segna la fine dell'indipendenza politica delle poleis classiche." 
        ],
        focus: [
          "Filippo II unisce forza militare e abilità diplomatica.",
          "È la figura che traghetta il mondo greco verso una nuova scala di potere." 
        ]
      },
      {
        id: "chaeronea",
        year: "338 a.C.",
        title: "Battaglia di Cheronea",
        tags: ["war"],
        era: "Tramonto della Grecia classica",
        sintesi: [
          "Le truppe macedoni di Filippo II sconfiggono la coalizione di Atene e Tebe.",
          "Alessandro, figlio di Filippo, partecipa alla battaglia guidando una delle ali dell'esercito.",
          "La vittoria apre la strada al controllo macedone sull'intera Grecia." 
        ],
        conseguenze: [
          "Si forma la Lega di Corinto, alleanza delle poleis sotto la guida di Filippo.",
          "Le città mantengono una certa autonomia interna ma perdono la libertà in politica estera.",
          "Il progetto della spedizione contro l'impero persiano viene approvato come impresa comune." 
        ],
        focus: [
          "Cheronea è spesso considerata la 'fine' della Grecia classica come sistema di città indipendenti.",
          "È il punto di passaggio fra storia delle poleis e storia degli imperi ellenistici." 
        ]
      },
      {
        id: "alessandro",
        year: "334-323 a.C.",
        title: "Conquiste di Alessandro Magno",
        tags: ["war", "culture"],
        era: "Passaggio all'età ellenistica",
        sintesi: [
          "Alessandro, succeduto al padre nel 336 a.C., abbatte l'impero persiano con una serie di campagne fulminee.",
          "Fondazione di numerose città (spesso chiamate Alessandria) e apertura di nuove vie di comunicazione.",
          "L'incontro tra cultura greca e civiltà orientali genera un mondo nuovo e multicentrico." 
        ],
        conseguenze: [
          "La cultura greca si diffonde dall'Egitto all'Asia centrale, mescolandosi con tradizioni locali.",
          "Nascono nuovi centri culturali che superano il modello della polis (come Alessandria d'Egitto).",
          "Alla morte di Alessandro (323 a.C.) l'impero si divide tra i diadochi, ma l'eredità culturale resta." 
        ],
        focus: [
          "Le conquiste di Alessandro chiudono l'età classica ma aprono l'età ellenistica.",
          "Permettono di discutere cosa significa 'essere greci' in un mondo ormai vasto e mescolato." 
        ]
      }
    ];

    const eventsList = document.getElementById("events-list");
    const detailBody = document.getElementById("detail-body");
    const detailHeader = document.getElementById("detail-header");
    const detailYearLine = document.getElementById("detail-year-line");

    function createTagLabel(tag) {
      if (tag === "war") return "Conflitti";
      if (tag === "polis") return "Poleis e istituzioni";
      if (tag === "culture") return "Cultura e pensiero";
      return tag;
    }

    function renderEvents() {
      events.forEach((event, index) => {
        const btn = document.createElement("button");
        btn.type = "button";
        btn.className = "event-button" + (index === 0 ? " active" : "");
        btn.dataset.id = event.id;

        const inner = document.createElement("div");
        inner.className = "event-button-inner";

        const radio = document.createElement("div");
        radio.className = "event-radio";
        const radioDot = document.createElement("div");
        radioDot.className = "event-radio-dot";
        radio.appendChild(radioDot);

        const meta = document.createElement("div");
        meta.className = "event-meta";
        const year = document.createElement("div");
        year.className = "event-year";
        year.textContent = event.year;
        const title = document.createElement("div");
        title.className = "event-title";
        title.textContent = event.title;

        const tagsWrap = document.createElement("div");
        tagsWrap.className = "event-tags";
        event.tags.forEach(tag => {
          const span = document.createElement("span");
          span.className = "event-tag";
          if (tag === "war") span.classList.add("event-tag--war");
          if (tag === "polis") span.classList.add("event-tag--polis");
          if (tag === "culture") span.classList.add("event-tag--culture");
          span.textContent = createTagLabel(tag);
          tagsWrap.appendChild(span);
        });

        meta.appendChild(year);
        meta.appendChild(title);
        meta.appendChild(tagsWrap);

        const arrow = document.createElement("div");
        arrow.className = "event-arrow";
        arrow.textContent = "▾";

        inner.appendChild(radio);
        inner.appendChild(meta);
        inner.appendChild(arrow);

        btn.appendChild(inner);
        eventsList.appendChild(btn);
      });
    }

    function renderDetail(event) {
      detailHeader.querySelector(".detail-era").textContent = event.era;
      detailHeader.querySelector(".detail-title").textContent = event.title;
      detailYearLine.textContent = event.year;

      detailBody.innerHTML = "";

      const sintTitle = document.createElement("div");
      sintTitle.className = "detail-section-title";
      sintTitle.textContent = "Che cosa succede";

      const sintList = document.createElement("ul");
      sintList.className = "detail-list";
      event.sintesi.forEach(t => {
        const li = document.createElement("li");
        li.textContent = t;
        sintList.appendChild(li);
      });

      const consTitle = document.createElement("div");
      consTitle.className = "detail-section-title";
      consTitle.textContent = "Perché è importante";

      const consList = document.createElement("ul");
      consList.className = "detail-list";
      event.conseguenze.forEach(t => {
        const li = document.createElement("li");
        li.textContent = t;
        consList.appendChild(li);
      });

      const focusTitle = document.createElement("div");
      focusTitle.className = "detail-section-title";
      focusTitle.textContent = "Focus per lo studio";

      const focusGrid = document.createElement("div");
      focusGrid.className = "detail-focus-grid";
      event.focus.forEach(t => {
        const el = document.createElement("div");
        el.className = "detail-focus-item";
        el.textContent = t;
        focusGrid.appendChild(el);
      });

      const note = document.createElement("div");
      note.className = "detail-note";
      note.textContent = "Suggerimento: prova a seguire la sequenza completa e a collegare ogni evento a ciò che studi in letteratura, filosofia e educazione civica.";

      detailBody.appendChild(sintTitle);
      detailBody.appendChild(sintList);
      detailBody.appendChild(consTitle);
      detailBody.appendChild(consList);
      detailBody.appendChild(focusTitle);
      detailBody.appendChild(focusGrid);
      detailBody.appendChild(note);
    }

    function onEventClick(e) {
      const btn = e.target.closest(".event-button");
      if (!btn) return;

      const id = btn.dataset.id;
      const event = events.find(ev => ev.id === id);
      if (!event) return;

      document.querySelectorAll(".event-button").forEach(b => {
        b.classList.toggle("active", b === btn);
      });

      renderDetail(event);
    }

    renderEvents();
    eventsList.addEventListener("click", onEventClick);

    if (events.length > 0) {
      renderDetail(events[0]);
    }
  </script>
</body>
</html>
